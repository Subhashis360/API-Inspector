<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Inspector Pro - HTTP Requests</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/httprequestpage.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="logo-area">
                <div class="logo-icon">‚ö°</div>
                <div class="logo-text">API Inspector</div>
            </div>

            <nav class="nav-menu">
                <a href="httprequestpage.html" class="nav-item active">
                    <span class="nav-icon">üì°</span>
                    <span class="nav-label">HTTP Requests</span>
                    <span class="nav-badge" id="apiCount">0</span>
                </a>
                <a href="webshoketpage.html" class="nav-item">
                    <span class="nav-icon">üîå</span>
                    <span class="nav-label">WebSockets</span>
                    <span class="nav-badge" id="wsCount">0</span>
                </a>
                <a href="repeterpage.html" class="nav-item">
                    <span class="nav-icon">üîÅ</span>
                    <span class="nav-label">Repeater</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <div class="connection-status">
                    <div class="status-dot"></div>
                    <span id="connectionStatus">Connected</span>
                </div>
                <div class="action-buttons">
                    <button class="icon-btn" id="importBtn" title="Import">üì§</button>
                    <button class="icon-btn" id="exportBtn" title="Export">üì•</button>
                    <button class="icon-btn danger" id="clearBtn" title="Clear All">üóëÔ∏è</button>
                </div>
                <input type="file" id="importInput" accept=".json" style="display: none;">
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Top Bar -->
            <header class="top-bar" id="topBar">
                <div class="search-container">
                    <span class="search-icon">üîç</span>
                    <input type="text" id="searchInput" placeholder="Search requests, URLs, methods...">
                    <div class="search-nav" id="searchNav" style="display: none;">
                        <span class="search-counter" id="searchCounter">0/0</span>
                        <button class="search-nav-btn" id="searchPrevBtn" title="Previous match (Shift+Enter)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                        </button>
                        <button class="search-nav-btn" id="searchNextBtn" title="Next match (Enter)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="filters-container">
                    <select id="methodFilter" class="filter-select">
                        <option value="ALL">All Methods</option>
                        <option value="GET">GET</option>
                        <option value="POST">POST</option>
                        <option value="PUT">PUT</option>
                        <option value="DELETE">DELETE</option>
                        <option value="PATCH">PATCH</option>
                        <option value="OPTIONS">OPTIONS</option>
                    </select>
                    <select id="statusFilter" class="filter-select">
                        <option value="ALL">All Status</option>
                        <option value="2xx">2xx Success</option>
                        <option value="3xx">3xx Redirect</option>
                        <option value="4xx">4xx Client Error</option>
                        <option value="5xx">5xx Server Error</option>
                    </select>
                </div>
            </header>

            <!-- Split View Container -->
            <div class="split-view-container" id="splitViewContainer">
                <!-- List View -->
                <div class="list-pane">
                    <div class="list-header">
                        <div class="col-method">Method</div>
                        <div class="col-url">Name / URL</div>
                        <div class="col-status">Status</div>
                    </div>
                    <div class="list-content" id="apiList">
                        <!-- Items will be injected here -->
                        <div class="empty-state">
                            <div class="empty-icon">üëã</div>
                            <h3>Ready to capture</h3>
                            <p>Requests will appear here automatically</p>
                        </div>
                    </div>
                </div>

                <!-- Resizer -->
                <div class="drag-handle" id="dragHandle"></div>

                <!-- Details Pane -->
                <div class="details-pane" id="detailsPane">
                    <div class="details-empty" id="detailsEmpty">
                        <div class="empty-icon">üëà</div>
                        <p>Select a request to view details</p>
                    </div>
                    <div class="details-content hidden" id="detailsContent">
                        <div class="details-toolbar">
                            <div class="detail-tabs">
                                <button class="detail-tab active" data-view="split">Split</button>
                                <button class="detail-tab" data-view="request">Request</button>
                                <button class="detail-tab" data-view="response">Response</button>
                                <button class="detail-tab" data-view="raw">Raw</button>
                            </div>
                            <div class="detail-actions">
                                <button class="icon-btn" id="copyCurlBtn" title="Copy as cURL">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                </button>
                                <button class="icon-btn" id="sendToRepeaterBtn" title="Send to Repeater">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <polyline points="17 1 21 5 17 9"></polyline>
                                        <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
                                        <polyline points="7 23 3 19 7 15"></polyline>
                                        <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
                                    </svg>
                                </button>
                                <button class="icon-btn" id="highlightBtn" title="Highlight">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="m13.5 10.5 4 4" />
                                        <path d="m17.5 6.5 4 4" />
                                        <path d="m8 7 7-7" />
                                        <path d="m16 11-7-7" />
                                        <path d="m19 14-7-7" />
                                        <path d="M22 3 9 16 6 19l-3 5 5-3 3-3 13-13z" />
                                    </svg>
                                </button>
                                <!-- Highlight Menu -->
                                <div class="highlight-menu hidden" id="highlightMenu">
                                    <div class="highlight-option" data-color="red"><span class="dot red"></span> Red
                                    </div>
                                    <div class="highlight-option" data-color="green"><span class="dot green"></span>
                                        Green</div>
                                    <div class="highlight-option" data-color="blue"><span class="dot blue"></span> Blue
                                    </div>
                                    <div class="highlight-option" data-color="yellow"><span class="dot yellow"></span>
                                        Yellow</div>
                                    <div class="highlight-option" data-color="purple"><span class="dot purple"></span>
                                        Purple</div>
                                    <div class="highlight-option" data-color="none">None</div>
                                </div>
                            </div>
                        </div>
                        <div class="details-body" id="detailsBody">
                            <!-- Details injected here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Context Menu -->
            <div id="contextMenu" class="context-menu hidden">
                <div class="context-menu-item" id="ctxSendToRepeater">
                    <span class="context-icon">üîÅ</span> Send to Repeater
                </div>
                <div class="context-menu-item" id="ctxDeleteRequest">
                    <span class="context-icon">üóëÔ∏è</span> Delete Request
                </div>
            </div>

            <!-- Folder Context Menu -->
            <div id="folderContextMenu" class="context-menu hidden">
                <div class="context-menu-item" id="ctxDeleteFolder">
                    <span class="context-icon">üóëÔ∏è</span> Delete Folder
                </div>
            </div>

        </main>
    </div>

    <script src="../js/common.js"></script>
    <script src="../js/httprequestpage.js"></script>
</body>

</html>